<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content='ç½‘é¡µçˆ¬è™«é¡¹ç›®å®æˆ˜ç»éªŒ æ­¤ç¯‡è®°å½•äº†ç½‘é¡µçˆ¬è™«çš„åŸºæœ¬ä½¿ç”¨åº“ï¼Œä»¥åŠå¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼æ“ä½œç­‰ã€‚ åŒæ—¶ç»™å‡ºäº†è±†ç“£ç”µå½±top250çš„çˆ¬å–æ–¹å¼ï¼ˆç»å…¸çˆ¬è™«å…¥é—¨é¡¹ç›®ï¼‰'><title>Crawler Note</title>
<link rel=canonical href=https://chasing1020.github.io/post/crawler-note/><link rel=stylesheet href=/scss/style.min.4103f793779d705fbe87a822f76011a76b5b1b9090509fd3b17a3ca449768b2a.css><meta property='og:title' content='Crawler Note'><meta property='og:description' content='ç½‘é¡µçˆ¬è™«é¡¹ç›®å®æˆ˜ç»éªŒ æ­¤ç¯‡è®°å½•äº†ç½‘é¡µçˆ¬è™«çš„åŸºæœ¬ä½¿ç”¨åº“ï¼Œä»¥åŠå¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼æ“ä½œç­‰ã€‚ åŒæ—¶ç»™å‡ºäº†è±†ç“£ç”µå½±top250çš„çˆ¬å–æ–¹å¼ï¼ˆç»å…¸çˆ¬è™«å…¥é—¨é¡¹ç›®ï¼‰'><meta property='og:url' content='https://chasing1020.github.io/post/crawler-note/'><meta property='og:site_name' content='Chasing1020'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Note'><meta property='article:published_time' content='2020-10-12T20:12:03+08:00'><meta property='article:modified_time' content='2020-10-12T20:12:03+08:00'><meta property='og:image' content='https://chasing1020.github.io/post/crawler-note/crawlers.webp'><meta name=twitter:site content="@Chasing1020"><meta name=twitter:creator content="@Chasing1020"><meta name=twitter:title content="Crawler Note"><meta name=twitter:description content="ç½‘é¡µçˆ¬è™«é¡¹ç›®å®æˆ˜ç»éªŒ æ­¤ç¯‡è®°å½•äº†ç½‘é¡µçˆ¬è™«çš„åŸºæœ¬ä½¿ç”¨åº“ï¼Œä»¥åŠå¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼æ“ä½œç­‰ã€‚ åŒæ—¶ç»™å‡ºäº†è±†ç“£ç”µå½±top250çš„çˆ¬å–æ–¹å¼ï¼ˆç»å…¸çˆ¬è™«å…¥é—¨é¡¹ç›®ï¼‰"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://chasing1020.github.io/post/crawler-note/crawlers.webp'><link rel="shortcut icon" href=/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu95eb581bc5d2486d92921983fc6c7583_36979_300x0_resize_q75_box.jpg width=300 height=299 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ–¥ï¸</span></figure><div class=site-meta><h1 class=site-name><a href=/>Chasing1020</a></h1><h2 class=site-description><a href="https://www.youtube.com/watch?v=_ILsdcs__ME" target=_blank>Why there is a universe?</a></h2></div></header><ol class=social-menu><li><a href=https://github.com/Chasing1020 target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com/Chasing1020 target=_blank title=Twitter rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li><li><a href=https://t.me/Chasing1020 target=_blank title=Telegram rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-telegram" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10l-4 4 6 6 4-16-18 7 4 2 2 6 3-4"/></svg></a></li><li><a href=mailto:chasing1020@gmail.com target=_blank title=Email rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-mail" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="3" y="5" width="18" height="14" rx="2"/><polyline points="3 7 12 13 21 7"/></svg></a></li><li><a href=/index.xml target=_blank title=RSS rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/friends/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Friends</span></a></li><li><a href=/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><div class=menu-bottom-section><li id=i18n-switch style=display:none><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://chasing1020.github.io/ selected></option></select></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#ç½‘é¡µçˆ¬è™«é¡¹ç›®å®æˆ˜ç»éªŒ>ç½‘é¡µçˆ¬è™«é¡¹ç›®å®æˆ˜ç»éªŒ</a></li><li><a href=#1bs4>1.Bs4</a><ul><li><a href=#11-analyze>1.1 analyze</a></li><li><a href=#12-traversal>1.2 Traversal</a></li><li><a href=#13-find>1.3 find</a></li></ul></li><li><a href=#2-re>2. Re</a><ul><li><a href=#21-new-object>2.1 new object</a></li><li><a href=#22-findall>2.2 findall</a></li><li><a href=#23-sub>2.3 sub</a></li><li><a href=#24-demo>2.4 demo</a></li></ul></li><li><a href=#3-urllib>3. Urllib</a><ul><li><a href=#31-get>3.1 get</a></li><li><a href=#32-post>3.2 post</a></li><li><a href=#33-418-error>3.3 418 error</a></li><li><a href=#34-test>3.4 test</a></li></ul></li><li><a href=#4-xwlt>4. Xwlt</a><ul><li><a href=#41-new>4.1 new</a></li></ul></li><li><a href=#5-release>5. Release</a><ul><li><a href=#51-top250>5.1 Top250</a></li></ul></li><li><a href=#6-csdn>6. CSDN</a><ul><li><a href=#61-for-a-certain-passage>6.1 for a certain passage</a></li><li><a href=#62-all-passages>6.2 All passages</a></li></ul></li></ul></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/post/crawler-note/><img src=/post/crawler-note/crawlers_huf70bc2f5d9712bf049a955dbeedbcb91_33366_800x0_resize_q75_h2_box_2.webp srcset="/post/crawler-note/crawlers_huf70bc2f5d9712bf049a955dbeedbcb91_33366_800x0_resize_q75_h2_box_2.webp 800w, /post/crawler-note/crawlers_huf70bc2f5d9712bf049a955dbeedbcb91_33366_1600x0_resize_q75_h2_box_2.webp 1600w" width=800 height=604 loading=lazy alt="Featured image of post Crawler Note"></a></div><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/post/crawler-note/>Crawler Note</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Oct 12, 2020</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>14 minute read</time></div></footer></div></header><section class=article-content><h1 id=ç½‘é¡µçˆ¬è™«é¡¹ç›®å®æˆ˜ç»éªŒ>ç½‘é¡µçˆ¬è™«é¡¹ç›®å®æˆ˜ç»éªŒ</h1><p>æ­¤ç¯‡è®°å½•äº†ç½‘é¡µçˆ¬è™«çš„åŸºæœ¬ä½¿ç”¨åº“ï¼Œä»¥åŠå¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼æ“ä½œç­‰ã€‚
åŒæ—¶ç»™å‡ºäº†è±†ç“£ç”µå½±top250çš„çˆ¬å–æ–¹å¼ï¼ˆç»å…¸çˆ¬è™«å…¥é—¨é¡¹ç›®ï¼‰ã€‚
ä»¥åŠå¯¹äºCSDNçš„åšä¸»ä¸»é¡µå•ä¸ªä»¥åŠå¤šä¸ªæ–‡ç« çš„çˆ¬å–ï¼Œå¹¶åˆ©ç”¨å·¥å…·å°†å…¶è½¬æ¢ä¸ºpdfæ ¼å¼</p><h1 id=1bs4>1.Bs4</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>bs4å°†å¤æ‚htmlæ–‡æ¡£è½¬æ¢æˆä¸€ä¸ªå¤æ‚çš„æ ‘å½¢ç»“æ„</span><span class=err>ï¼Œ</span><span class=n>æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯pythonå¯¹è±¡</span><span class=err>ï¼Œ</span><span class=n>æ‰€æœ‰å¯¹è±¡å¯ä»¥åˆ†ä¸º4ç§</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>-</span><span class=n>Tag</span>
</span></span><span class=line><span class=cl><span class=o>-</span><span class=n>NavigableString</span>
</span></span><span class=line><span class=cl><span class=o>-</span><span class=n>BeautifulSoup</span>
</span></span><span class=line><span class=cl><span class=o>-</span><span class=n>Comment</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=11-analyze>1.1 analyze</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#bs4åˆ†ææ–‡æ¡£</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>bs4</span> <span class=kn>import</span> <span class=n>BeautifulSoup</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>file</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;./baidu.html&#34;</span><span class=p>,</span> <span class=s2>&#34;rb&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>html</span> <span class=o>=</span> <span class=n>file</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>bs</span> <span class=o>=</span> <span class=n>BeautifulSoup</span><span class=p>(</span><span class=n>html</span><span class=p>,</span> <span class=s2>&#34;html.parser&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>bs</span><span class=o>.</span><span class=n>head</span><span class=p>))</span><span class=c1>#&lt;class &#39;bs4.element.Tag&#39;&gt;æ ‡ç­¾åŠå…¶å†…å®¹</span>
</span></span><span class=line><span class=cl><span class=c1>#1.tag  æ ‡ç­¾åŠå†…å®¹ï¼šæ‹¿åˆ°å®ƒæ‰€æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå†…å®¹</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>bs</span><span class=o>.</span><span class=n>title</span><span class=o>.</span><span class=n>string</span><span class=p>))</span><span class=c1>#&lt;class &#39;bs4.element.NavigableString&#39;&gt;æ ‡ç­¾é‡Œçš„å†…å®¹</span>
</span></span><span class=line><span class=cl><span class=c1>#2.NavigableStringæ ‡ç­¾é‡Œçš„å†…å®¹</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>bs</span><span class=o>.</span><span class=n>a</span><span class=o>.</span><span class=n>attrs</span><span class=p>))</span><span class=c1>#&lt;class &#39;dict&#39;&gt;#&lt;class &#39;dict&#39;&gt;</span>
</span></span><span class=line><span class=cl><span class=c1>#3.æ ‡ç­¾å†…éƒ¨çš„å­—å…¸ä¿¡æ¯</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>bs</span><span class=p>))</span><span class=c1>#&lt;class &#39;bs4.BeautifulSoup&#39;&gt;</span>
</span></span><span class=line><span class=cl><span class=c1>#4.è¡¨ç¤ºæ•´ä¸ªæ–‡æ¡£</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>bs</span><span class=o>.</span><span class=n>a</span><span class=o>.</span><span class=n>string</span><span class=p>))</span><span class=c1>#&lt;class &#39;bs4.element.Comment&#39;&gt;</span>
</span></span><span class=line><span class=cl><span class=c1>#5.ç¬¬ä¸€ä¸ªaä¸­çš„æ³¨é‡Šé‡Œçš„å†…å®¹,ä¸åŒ…å«æ³¨é‡Šç¬¦å·</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=12-traversal>1.2 Traversal</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#æ–‡æ¡£çš„éå†</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>bs4</span> <span class=kn>import</span> <span class=n>BeautifulSoup</span>
</span></span><span class=line><span class=cl><span class=n>file</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;./baidu.html&#34;</span><span class=p>,</span> <span class=s2>&#34;rb&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>html</span> <span class=o>=</span> <span class=n>file</span><span class=o>.</span><span class=n>read</span><span class=p>()</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s2>&#34;utf-8&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>bs</span> <span class=o>=</span> <span class=n>BeautifulSoup</span><span class=p>(</span><span class=n>html</span><span class=p>,</span> <span class=s2>&#34;html.parser&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>bs</span><span class=o>.</span><span class=n>head</span><span class=o>.</span><span class=n>contents</span><span class=p>)</span><span class=c1>#åˆ—è¡¨ç±»å‹ï¼Œå¯ä»¥ç”¨ä¸‹æ ‡è®¿é—®</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>bs</span><span class=o>.</span><span class=n>head</span><span class=o>.</span><span class=n>contents</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=13-find>1.3 find</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#æ–‡æ¡£æœç´¢</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>re</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>bs4</span> <span class=kn>import</span> <span class=n>BeautifulSoup</span>
</span></span><span class=line><span class=cl><span class=n>file</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;./baidu.html&#34;</span><span class=p>,</span> <span class=s2>&#34;rb&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>html</span> <span class=o>=</span> <span class=n>file</span><span class=o>.</span><span class=n>read</span><span class=p>()</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s2>&#34;utf-8&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>bs</span> <span class=o>=</span> <span class=n>BeautifulSoup</span><span class=p>(</span><span class=n>html</span><span class=p>,</span> <span class=s2>&#34;html.parser&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#1.find_all()</span>
</span></span><span class=line><span class=cl><span class=c1>#æŸ¥æ‰¾ä¸å­—ç¬¦ä¸²å®Œå…¨åŒ¹é…çš„å†…å®¹</span>
</span></span><span class=line><span class=cl><span class=n>t_list</span><span class=o>=</span><span class=n>bs</span><span class=o>.</span><span class=n>find_all</span><span class=p>(</span><span class=s2>&#34;a&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>for</span>  <span class=n>i</span> <span class=ow>in</span> <span class=n>t_list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>#æ‰€æœ‰&lt;a&gt;æ ‡ç­¾ä¸‹é¢çš„å†…å®¹</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#2.search()</span>
</span></span><span class=line><span class=cl><span class=c1>#æ­£åˆ™è¡¨è¾¾å¼æ¥æœç´¢</span>
</span></span><span class=line><span class=cl><span class=n>t_list</span><span class=o>=</span><span class=n>bs</span><span class=o>.</span><span class=n>find_all</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=s2>&#34;a&#34;</span><span class=p>))</span><span class=c1>#åŒ¹é…ä¸æ­£åˆ™è¡¨è¾¾å¼aæœ‰å…³çš„å…¨éƒ¨å†…å®¹</span>
</span></span><span class=line><span class=cl><span class=k>for</span>  <span class=n>i</span> <span class=ow>in</span> <span class=n>t_list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#3.æ ¹æ®å‡½æ•°çš„è¦æ±‚æ¥æœç´¢</span>
</span></span><span class=line><span class=cl><span class=c1>#è‡ªå®šä¹‰å‡½æ•°æŸ¥æ‰¾</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>name_is_exists</span><span class=p>(</span><span class=n>tag</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>tag</span><span class=o>.</span><span class=n>has_attr</span><span class=p>(</span><span class=s2>&#34;name&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>t_list</span><span class=o>=</span><span class=n>bs</span><span class=o>.</span><span class=n>find_all</span><span class=p>(</span><span class=n>name_is_exists</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>for</span>  <span class=n>i</span> <span class=ow>in</span> <span class=n>t_list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#4.kwargs</span>
</span></span><span class=line><span class=cl><span class=n>å¯»æ‰¾id</span><span class=o>=</span><span class=s2>&#34;head&#34;</span><span class=n>å†…çš„å…¨éƒ¨å†…å®¹</span>
</span></span><span class=line><span class=cl><span class=n>t_list</span><span class=o>=</span><span class=n>bs</span><span class=o>.</span><span class=n>find_all</span><span class=p>(</span><span class=nb>id</span><span class=o>=</span><span class=s2>&#34;head&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>for</span>  <span class=n>i</span> <span class=ow>in</span> <span class=n>t_list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#5.æ–‡æœ¬å‚æ•°</span>
</span></span><span class=line><span class=cl><span class=n>å¯»æ‰¾æ–‡æœ¬çš„å†…å®¹</span>
</span></span><span class=line><span class=cl><span class=n>t_list</span><span class=o>=</span><span class=n>bs</span><span class=o>.</span><span class=n>find_all</span><span class=p>(</span><span class=n>text</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;hao123&#34;</span><span class=p>,</span><span class=s2>&#34;è´´å§&#34;</span><span class=p>,</span><span class=s2>&#34;åœ°å›¾&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>t_list</span><span class=o>=</span><span class=n>bs</span><span class=o>.</span><span class=n>find_all</span><span class=p>(</span><span class=n>text</span><span class=o>=</span><span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=s2>&#34;\d&#34;</span><span class=p>))</span>  <span class=c1>#å¯»æ‰¾ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼çš„é¡¹ç›®ï¼Œè¿™é‡Œæ˜¯å¯»æ‰¾æ‰€æœ‰æ•´æ•°</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>t_list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#6.limitå‚æ•°</span>
</span></span><span class=line><span class=cl><span class=n>t_list</span><span class=o>=</span><span class=n>bs</span><span class=o>.</span><span class=n>find_all</span><span class=p>(</span><span class=s2>&#34;a&#34;</span><span class=p>,</span><span class=n>limit</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>   <span class=c1>#åªæœç´¢ä¸‰ä¸ª</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>t_list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#7.cssé€‰æ‹©å™¨</span>
</span></span><span class=line><span class=cl><span class=n>t_list</span><span class=o>=</span><span class=n>bs</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s1>&#39;title&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>t_list</span><span class=o>=</span><span class=n>bs</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s2>&#34;.mnav&#34;</span><span class=p>)</span><span class=c1>#å¯»æ‰¾ç±»å</span>
</span></span><span class=line><span class=cl><span class=n>t_list</span><span class=o>=</span><span class=n>bs</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s1>&#39;#u1&#39;</span><span class=p>)</span><span class=c1>#é€šè¿‡idæ¥æŸ¥æ‰¾</span>
</span></span><span class=line><span class=cl><span class=n>t_list</span><span class=o>=</span><span class=n>bs</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s2>&#34;a[class=&#39;bri&#39;]&#34;</span><span class=p>)</span><span class=c1>#é€šè¿‡å±æ€§æ¥æŸ¥æ‰¾</span>
</span></span><span class=line><span class=cl><span class=n>t_list</span><span class=o>=</span><span class=n>bs</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s2>&#34;head&gt;title&#34;</span><span class=p>)</span><span class=c1>#é€šè¿‡å­æ ‡ç­¾æ¥æŸ¥æ‰¾</span>
</span></span><span class=line><span class=cl><span class=n>t_list</span><span class=o>=</span><span class=n>bs</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s2>&#34;.mnav ~ .bri&#34;</span><span class=p>)</span><span class=c1>#é€šè¿‡å­æ ‡ç­¾æ¥æŸ¥æ‰¾</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>t_list</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>get_text</span><span class=p>())</span><span class=c1>#è·å–æ–‡æœ¬</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>t_list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=2-re>2. Re</h1><hr><p>#æ­£åˆ™è¡¨è¾¾å¼ï¼šå­—ç¬¦ä¸²æ¨¡å¼ï¼ˆåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆä¸€å®šæ ‡å‡†ï¼‰
import re
#åˆ›å»ºæ¨¡å¼å¯¹è±¡</p><h2 id=21-new-object>2.1 new object</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#search</span>
</span></span><span class=line><span class=cl><span class=n>pat</span><span class=o>=</span><span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=s2>&#34;AA&#34;</span><span class=p>)</span><span class=c1>#æ­¤å¤„çš„AAå±äºæ­£åˆ™è¡¨è¾¾å¼</span>
</span></span><span class=line><span class=cl><span class=n>ans</span><span class=o>=</span><span class=n>pat</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=s2>&#34;ABC&#34;</span><span class=p>)</span><span class=c1>#è¿™é‡Œçš„searchå†…éƒ¨å±äºè¢«æœç´¢çš„å†…å®¹</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>ans</span><span class=p>)</span><span class=c1>#è¾“å‡ºNone</span>
</span></span><span class=line><span class=cl><span class=n>ans2</span><span class=o>=</span><span class=n>pat</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=s2>&#34;AABCAA&#34;</span><span class=p>)</span><span class=c1>#ä¼˜å…ˆæ‰¾åˆ°ç¬¬ä¸€ä¸ªç»“æœ</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>ans2</span><span class=p>)</span><span class=c1>#è¾“å‡º&lt;re.Match object; span=(3, 5), match=&#39;AA&#39;&gt;</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=22-findall>2.2 findall</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#findall</span>
</span></span><span class=line><span class=cl><span class=n>ans</span><span class=o>=</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=s2>&#34;a+&#34;</span><span class=p>,</span><span class=s2>&#34;aaabc&#34;</span><span class=p>)</span><span class=c1>#å‰é¢æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œåé¢æ˜¯å¾…æ±‚çš„ç»“æœ</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>ans</span><span class=p>)</span><span class=c1>#è¾“å‡º[&#39;aaa&#39;]</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=23-sub>2.3 sub</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#sub(1,2,3)</span>
</span></span><span class=line><span class=cl><span class=n>ans</span><span class=o>=</span><span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=s2>&#34;a&#34;</span><span class=p>,</span><span class=s2>&#34;A&#34;</span><span class=p>,</span><span class=s2>&#34;abcdcasd&#34;</span><span class=p>)</span><span class=c1>#å¯¹äºæœ€åä¸€ä¸ªè¡¨è¾¾å¼ï¼Œç”¨aæ¢æˆA</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>ans</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>#å»ºè®®åœ¨æ­£åˆ™è¡¨è¾¾å¼ç§ï¼Œè¢«æ¯”è¾ƒçš„å­—ç¬¦å‰é¢åŠ ä¸Šrï¼Œä¸ç”¨æ‹…å¿ƒè½¬ä¹‰å­—ç¬¦çš„é—®é¢˜</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=24-demo>2.4 demo</h2><p>1ã€åŒ¹é…ä¸­æ–‡:[\u4e00-\u9fa5]</p><p>2ã€è‹±æ–‡å­—æ¯:[a-zA-Z]</p><p>3ã€æ•°å­—:[0-9]</p><p>4ã€åŒ¹é…ä¸­æ–‡ï¼Œè‹±æ–‡å­—æ¯å’Œæ•°å­—åŠä¸‹åˆ’çº¿ï¼š^[\u4e00-\u9fa5_a-zA-Z0-9]+$
åŒæ—¶åˆ¤æ–­è¾“å…¥é•¿åº¦ï¼š
[\u4e00-\u9fa5_a-zA-Z0-9_]{4,10}</p><p>5ã€
(?!<em>)ã€€ã€€ä¸èƒ½ä»¥_å¼€å¤´
(?!.*?</em>$)ã€€ã€€ä¸èƒ½ä»¥_ç»“å°¾
[a-zA-Z0-9_\u4e00-\u9fa5]+ã€€ã€€è‡³å°‘ä¸€ä¸ªæ±‰å­—ã€æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿
$ã€€ã€€ä¸å­—ç¬¦ä¸²ç»“æŸçš„åœ°æ–¹åŒ¹é…</p><p>6ã€åªå«æœ‰æ±‰å­—ã€æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ï¼Œä¸‹åˆ’çº¿ä½ç½®ä¸é™ï¼š
^[a-zA-Z0-9_\u4e00-\u9fa5]+$</p><p>7ã€ç”±æ•°å­—ã€26ä¸ªè‹±æ–‡å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²
^\w+$</p><p>8ã€2~4ä¸ªæ±‰å­—
&ldquo;^[\u4E00-\u9FA5]{2,4}$&rdquo;;</p><p>9ã€æœ€é•¿ä¸å¾—è¶…è¿‡7ä¸ªæ±‰å­—ï¼Œæˆ–14ä¸ªå­—èŠ‚(æ•°å­—ï¼Œå­—æ¯å’Œä¸‹åˆ’çº¿)æ­£åˆ™è¡¨è¾¾å¼
^[\u4e00-\u9fa5]{1,7}$|^[\dA-Za-z_]{1,14}$</p><p>10ã€åŒ¹é…åŒå­—èŠ‚å­—ç¬¦(åŒ…æ‹¬æ±‰å­—åœ¨å†…)ï¼š[^x00-xff]
è¯„æ³¨ï¼šå¯ä»¥ç”¨æ¥è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆä¸€ä¸ªåŒå­—èŠ‚å­—ç¬¦é•¿åº¦è®¡2ï¼ŒASCIIå­—ç¬¦è®¡1ï¼‰</p><p>11ã€åŒ¹é…ç©ºç™½è¡Œçš„æ­£åˆ™è¡¨è¾¾å¼ï¼šns*r
è¯„æ³¨ï¼šå¯ä»¥ç”¨æ¥åˆ é™¤ç©ºç™½è¡Œ</p><p>12ã€åŒ¹é…HTMLæ ‡è®°çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š&lt;(S*?)[^>]<em>>.</em>?|&lt;.*? />
è¯„æ³¨ï¼šç½‘ä¸Šæµä¼ çš„ç‰ˆæœ¬å¤ªç³Ÿç³•ï¼Œä¸Šé¢è¿™ä¸ªä¹Ÿä»…ä»…èƒ½åŒ¹é…éƒ¨åˆ†ï¼Œå¯¹äºå¤æ‚çš„åµŒå¥—æ ‡è®°ä¾æ—§æ— èƒ½ä¸ºåŠ›</p><p>13ã€åŒ¹é…é¦–å°¾ç©ºç™½å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š^s*|s*$
è¯„æ³¨ï¼šå¯ä»¥ç”¨æ¥åˆ é™¤è¡Œé¦–è¡Œå°¾çš„ç©ºç™½å­—ç¬¦(åŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰)ï¼Œéå¸¸æœ‰ç”¨çš„è¡¨è¾¾å¼</p><p>14ã€åŒ¹é…Emailåœ°å€çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š^[a-zA-Z0-9][\w.-]<em>[a-zA-Z0-9]@[a-zA-Z0-9][\w.-]</em>[a-zA-Z0-9].[a-zA-Z][a-zA-Z.]*[a-zA-Z]$</p><p>è¯„æ³¨ï¼šè¡¨å•éªŒè¯æ—¶å¾ˆå®ç”¨</p><p>15ã€æ‰‹æœºå·ï¼š^((13[0-9])|(14[0-9])|(15[0-9])|(17[0-9])|(18[0-9]))\d{8}$</p><p>16ã€èº«ä»½è¯ï¼š(^\d{15}$)|(^\d{17}([0-9]|X|x)$)</p><p>17ã€åŒ¹é…ç½‘å€URLçš„æ­£åˆ™è¡¨è¾¾å¼ï¼š[a-zA-z]+://[^s]*
è¯„æ³¨ï¼šç½‘ä¸Šæµä¼ çš„ç‰ˆæœ¬åŠŸèƒ½å¾ˆæœ‰é™ï¼Œä¸Šé¢è¿™ä¸ªåŸºæœ¬å¯ä»¥æ»¡è¶³éœ€æ±‚</p><p>18ã€åŒ¹é…å¸å·æ˜¯å¦åˆæ³•(å­—æ¯å¼€å¤´ï¼Œå…è®¸5-16å­—èŠ‚ï¼Œå…è®¸å­—æ¯æ•°å­—ä¸‹åˆ’çº¿)ï¼š^[a-zA-Z][a-zA-Z0-9_]{4,15}$
è¯„æ³¨ï¼šè¡¨å•éªŒè¯æ—¶å¾ˆå®ç”¨</p><p>19ã€åŒ¹é…å›½å†…ç”µè¯å·ç ï¼šd{3}-d{8}|d{4}-d{7}
è¯„æ³¨ï¼šåŒ¹é…å½¢å¼å¦‚ 0511-4405222 æˆ– 021-87888822</p><p>20ã€åŒ¹é…è…¾è®¯QQå·ï¼š[1-9][0-9]{4,}
è¯„æ³¨ï¼šè…¾è®¯QQå·ä»10000å¼€å§‹</p><p>21ã€åŒ¹é…ä¸­å›½é‚®æ”¿ç¼–ç ï¼š[1-9]d{5}(?!d)
è¯„æ³¨ï¼šä¸­å›½é‚®æ”¿ç¼–ç ä¸º6ä½æ•°å­—</p><p>22ã€åŒ¹é…èº«ä»½è¯ï¼šd{15}|d{18}
è¯„æ³¨ï¼šä¸­å›½çš„èº«ä»½è¯ä¸º15ä½æˆ–18ä½</p><p>23ã€åŒ¹é…ipåœ°å€ï¼šd+.d+.d+.d+
è¯„æ³¨ï¼šæå–ipåœ°å€æ—¶æœ‰ç”¨</p><p>24ã€åŒ¹é…ç‰¹å®šæ•°å­—ï¼š
^[1-9]d*$ã€€ ã€€ //åŒ¹é…æ­£æ•´æ•°
^-[1-9]d*$ ã€€ //åŒ¹é…è´Ÿæ•´æ•°
^-?[1-9]d*$ã€€ã€€ //åŒ¹é…æ•´æ•°
^[1-9]d*|0$ã€€ //åŒ¹é…éè´Ÿæ•´æ•°ï¼ˆæ­£æ•´æ•° + 0ï¼‰
^-[1-9]d*|0$ã€€ã€€ //åŒ¹é…éæ­£æ•´æ•°ï¼ˆè´Ÿæ•´æ•° + 0ï¼‰
^[1-9]d*.d*|0.d*[1-9]d*$ã€€ã€€ //åŒ¹é…æ­£æµ®ç‚¹æ•°
^-([1-9]d*.d*|0.d*[1-9]d*)$ã€€ //åŒ¹é…è´Ÿæµ®ç‚¹æ•°
^-?([1-9]d*.d*|0.d*[1-9]d*|0?.0+|0)$ã€€ //åŒ¹é…æµ®ç‚¹æ•°
^[1-9]d*.d*|0.d*[1-9]d*|0?.0+|0$ã€€ã€€ //åŒ¹é…éè´Ÿæµ®ç‚¹æ•°ï¼ˆæ­£æµ®ç‚¹æ•° + 0ï¼‰
^(-([1-9]d*.d*|0.d*[1-9]d*))|0?.0+|0$ã€€ã€€//åŒ¹é…éæ­£æµ®ç‚¹æ•°ï¼ˆè´Ÿæµ®ç‚¹æ•° + 0ï¼‰
è¯„æ³¨ï¼šå¤„ç†å¤§é‡æ•°æ®æ—¶æœ‰ç”¨ï¼Œå…·ä½“åº”ç”¨æ—¶æ³¨æ„ä¿®æ­£</p><p>25ã€åŒ¹é…ç‰¹å®šå­—ç¬¦ä¸²ï¼š
^[A-Za-z]+$ã€€ã€€//åŒ¹é…ç”±26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²
^[A-Z]+$ã€€ã€€//åŒ¹é…ç”±26ä¸ªè‹±æ–‡å­—æ¯çš„å¤§å†™ç»„æˆçš„å­—ç¬¦ä¸²
^[a-z]+$ã€€ã€€//åŒ¹é…ç”±26ä¸ªè‹±æ–‡å­—æ¯çš„å°å†™ç»„æˆçš„å­—ç¬¦ä¸²
^[A-Za-z0-9]+$ã€€ã€€//åŒ¹é…ç”±æ•°å­—å’Œ26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²
^w+$ã€€ã€€//åŒ¹é…ç”±æ•°å­—ã€26ä¸ªè‹±æ–‡å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²</p><p>26ã€
åœ¨ä½¿ç”¨RegularExpressionValidatoréªŒè¯æ§ä»¶æ—¶çš„éªŒè¯åŠŸèƒ½åŠå…¶éªŒè¯è¡¨è¾¾å¼ä»‹ç»å¦‚ä¸‹:
åªèƒ½è¾“å…¥æ•°å­—ï¼šâ€œ^[0-9]<em>$â€
åªèƒ½è¾“å…¥nä½çš„æ•°å­—ï¼šâ€œ^d{n}$â€
åªèƒ½è¾“å…¥è‡³å°‘nä½æ•°å­—ï¼šâ€œ^d{n,}$â€
åªèƒ½è¾“å…¥m-nä½çš„æ•°å­—ï¼šâ€œ^d{m,n}$â€
åªèƒ½è¾“å…¥é›¶å’Œéé›¶å¼€å¤´çš„æ•°å­—ï¼šâ€œ^(0|[1-9][0-9]</em>)$â€
åªèƒ½è¾“å…¥æœ‰ä¸¤ä½å°æ•°çš„æ­£å®æ•°ï¼šâ€œ^[0-9]+(.[0-9]{2})?$â€
åªèƒ½è¾“å…¥æœ‰1-3ä½å°æ•°çš„æ­£å®æ•°ï¼šâ€œ^[0-9]+(.[0-9]{1,3})?$â€
åªèƒ½è¾“å…¥éé›¶çš„æ­£æ•´æ•°ï¼šâ€œ^+?[1-9][0-9]<em>$â€
åªèƒ½è¾“å…¥éé›¶çš„è´Ÿæ•´æ•°ï¼šâ€œ^-[1-9][0-9]</em>$â€
åªèƒ½è¾“å…¥é•¿åº¦ä¸º3çš„å­—ç¬¦ï¼šâ€œ^.{3}$â€
åªèƒ½è¾“å…¥ç”±26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼šâ€œ^[A-Za-z]+$â€
åªèƒ½è¾“å…¥ç”±26ä¸ªå¤§å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼šâ€œ^[A-Z]+$â€
åªèƒ½è¾“å…¥ç”±26ä¸ªå°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼šâ€œ^[a-z]+$â€
åªèƒ½è¾“å…¥ç”±æ•°å­—å’Œ26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼šâ€œ^[A-Za-z0-9]+$â€
åªèƒ½è¾“å…¥ç”±æ•°å­—ã€26ä¸ªè‹±æ–‡å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²ï¼šâ€œ^w+$â€
éªŒè¯ç”¨æˆ·å¯†ç :â€œ^[a-zA-Z]w{5,17}$â€æ­£ç¡®æ ¼å¼ä¸ºï¼šä»¥å­—æ¯å¼€å¤´ï¼Œé•¿åº¦åœ¨6-18ä¹‹é—´ï¼Œ
åªèƒ½åŒ…å«å­—ç¬¦ã€æ•°å­—å’Œä¸‹åˆ’çº¿ã€‚
éªŒè¯æ˜¯å¦å«æœ‰^%&&rsquo;,;=?$&ldquo;ç­‰å­—ç¬¦ï¼šâ€œ[^%&&rsquo;,;=?$x22]+â€
åªèƒ½è¾“å…¥æ±‰å­—ï¼šâ€œ^[u4e00-u9fa5],{0,}$â€
éªŒè¯Emailåœ°å€ï¼šâ€œ^w+[-+.]w+)<em>@w+([-.]w+)</em>.w+([-.]w+)<em>$â€
éªŒè¯InternetURLï¼šâ€œ^http://([w-]+.)+[w-]+(/[w-./?%&=]</em>)?$â€
éªŒè¯èº«ä»½è¯å·ï¼ˆ15ä½æˆ–18ä½æ•°å­—ï¼‰ï¼šâ€œ^d{15}|d{}18$â€
éªŒè¯ä¸€å¹´çš„12ä¸ªæœˆï¼šâ€œ^(0?[1-9]|1[0-2])$â€æ­£ç¡®æ ¼å¼ä¸ºï¼šâ€œ01â€-â€œ09â€å’Œâ€œ1â€â€œ12â€
éªŒè¯ä¸€ä¸ªæœˆçš„31å¤©ï¼šâ€œ^((0?[1-9])|((1|2)[0-9])|30|31)$â€
æ­£ç¡®æ ¼å¼ä¸ºï¼šâ€œ01â€â€œ09â€å’Œâ€œ1â€â€œ31â€ã€‚
åŒ¹é…ä¸­æ–‡å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š [u4e00-u9fa5]
åŒ¹é…åŒå­—èŠ‚å­—ç¬¦(åŒ…æ‹¬æ±‰å­—åœ¨å†…)ï¼š[^x00-xff]
åŒ¹é…ç©ºè¡Œçš„æ­£åˆ™è¡¨è¾¾å¼ï¼šn[s| ]<em>r
åŒ¹é…HTMLæ ‡è®°çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š/&lt;(.</em>)>.<em>|&lt;(.</em>) />/
åŒ¹é…é¦–å°¾ç©ºæ ¼çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š(^s*)|(s*$)
åŒ¹é…Emailåœ°å€çš„æ­£åˆ™è¡¨è¾¾å¼ï¼šw+([-+.]w+)<em>@w+([-.]w+)</em>.w+([-.]w+)*
åŒ¹é…ç½‘å€URLçš„æ­£åˆ™è¡¨è¾¾å¼ï¼šhttp://([w-]+.)+[w-]+(/[w- ./?%&=]*)?</p><h1 id=3-urllib>3. Urllib</h1><hr><h2 id=31-get>3.1 get</h2><hr><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>urllib.request</span>
</span></span><span class=line><span class=cl><span class=c1>#1ã€è·å–ä¸€ä¸ªgetè¯·æ±‚</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>responce</span> <span class=o>=</span> <span class=n>urllib</span><span class=o>.</span><span class=n>request</span><span class=o>.</span><span class=n>urlopen</span><span class=p>(</span><span class=s2>&#34;http://httpbin.org/get&#34;</span><span class=p>,</span><span class=n>timeout</span><span class=o>=</span><span class=mf>0.01</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>responce</span><span class=o>.</span><span class=n>read</span><span class=p>()</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>))</span>  <span class=c1>#å¯¹è·å–åˆ°çš„ç½‘é¡µæºç è¿›è¡Œutf-8è§£ç </span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=n>urllib</span><span class=o>.</span><span class=n>error</span><span class=o>.</span><span class=n>URLError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;time out&#34;</span><span class=p>)</span>   <span class=c1>#è¶…æ—¶å¤„ç†</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=32-post>3.2 post</h2><hr><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#2ã€è·å–ä¸€ä¸ªpostè¯·æ±‚</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>urllib.parse</span>
</span></span><span class=line><span class=cl><span class=n>data</span> <span class=o>=</span> <span class=nb>bytes</span><span class=p>(</span><span class=n>urllib</span><span class=o>.</span><span class=n>parse</span><span class=o>.</span><span class=n>urlencode</span><span class=p>({</span><span class=s2>&#34;hello&#34;</span><span class=p>:</span> <span class=s2>&#34;world&#34;</span><span class=p>}),</span> <span class=n>encoding</span><span class=o>=</span><span class=s2>&#34;utf-8&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>response</span> <span class=o>=</span> <span class=n>urllib</span><span class=o>.</span><span class=n>request</span><span class=o>.</span><span class=n>urlopen</span><span class=p>(</span><span class=s2>&#34;http://httpbin.org/post&#34;</span><span class=p>,</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>response</span><span class=o>.</span><span class=n>read</span><span class=p>()</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s2>&#34;utf-8&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>responce</span> <span class=o>=</span> <span class=n>urllib</span><span class=o>.</span><span class=n>request</span><span class=o>.</span><span class=n>urlopen</span><span class=p>(</span><span class=s2>&#34;http://www.baidu.com&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>responce</span><span class=o>.</span><span class=n>status</span><span class=p>)</span>  <span class=c1>#è·å–çŠ¶æ€ç </span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>responce</span><span class=o>.</span><span class=n>getheaders</span><span class=p>())</span>   <span class=c1>#è·å–å…¨éƒ¨ä¿¡æ¯</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>responce</span><span class=o>.</span><span class=n>getheader</span><span class=p>(</span><span class=s2>&#34;Server&#34;</span><span class=p>))</span>    <span class=c1>#è·å–å…¨éƒ¨ä¿¡æ¯</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=33-418-error>3.3 418 error</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#3ã€postè¯·æ±‚ï¼Œå418</span>
</span></span><span class=line><span class=cl><span class=n>url</span><span class=o>=</span><span class=s2>&#34;http://httpbin.org/post&#34;</span>
</span></span><span class=line><span class=cl><span class=n>headers</span><span class=o>=</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;User-Agent&#34;</span> <span class=p>:</span> <span class=s2>&#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.89 Safari/537.36 Edg/84.0.522.44&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>data</span> <span class=o>=</span> <span class=nb>bytes</span><span class=p>(</span><span class=n>urllib</span><span class=o>.</span><span class=n>parse</span><span class=o>.</span><span class=n>urlencode</span><span class=p>({</span><span class=s2>&#34;hello&#34;</span><span class=p>:</span><span class=s2>&#34;world&#34;</span><span class=p>}),</span> <span class=n>encoding</span><span class=o>=</span><span class=s2>&#34;utf-8&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>req</span><span class=o>=</span><span class=n>urllib</span><span class=o>.</span><span class=n>request</span><span class=o>.</span><span class=n>Request</span><span class=p>(</span><span class=n>url</span><span class=o>=</span><span class=n>url</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>data</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s2>&#34;POST&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>response</span><span class=o>=</span><span class=n>urllib</span><span class=o>.</span><span class=n>request</span><span class=o>.</span><span class=n>urlopen</span><span class=p>(</span><span class=n>req</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>response</span><span class=o>.</span><span class=n>read</span><span class=p>()</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s2>&#34;utf-8&#34;</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=34-test>3.4 test</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#4ã€çˆ¬å–è±†ç“£</span>
</span></span><span class=line><span class=cl><span class=n>url</span><span class=o>=</span><span class=s2>&#34;https://www.douban.com&#34;</span>
</span></span><span class=line><span class=cl><span class=n>headers</span><span class=o>=</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;User-Agent&#34;</span><span class=p>:</span> <span class=s2>&#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.89 Safari/537.36 Edg/84.0.522.44&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>data</span> <span class=o>=</span> <span class=nb>bytes</span><span class=p>(</span><span class=n>urllib</span><span class=o>.</span><span class=n>parse</span><span class=o>.</span><span class=n>urlencode</span><span class=p>({</span><span class=s2>&#34;hello&#34;</span><span class=p>:</span><span class=s2>&#34;world&#34;</span><span class=p>}),</span> <span class=n>encoding</span><span class=o>=</span><span class=s2>&#34;utf-8&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>req</span><span class=o>=</span><span class=n>urllib</span><span class=o>.</span><span class=n>request</span><span class=o>.</span><span class=n>Request</span><span class=p>(</span><span class=n>url</span><span class=o>=</span><span class=n>url</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>response</span><span class=o>=</span><span class=n>urllib</span><span class=o>.</span><span class=n>request</span><span class=o>.</span><span class=n>urlopen</span><span class=p>(</span><span class=n>req</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>response</span><span class=o>.</span><span class=n>read</span><span class=p>()</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s2>&#34;utf-8&#34;</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=4-xwlt>4. Xwlt</h1><h2 id=41-new>4.1 new</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>xlwt</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>workbook</span> <span class=o>=</span> <span class=n>xlwt</span><span class=o>.</span><span class=n>Workbook</span><span class=p>(</span><span class=n>encoding</span><span class=o>=</span><span class=s2>&#34;utf-8&#34;</span><span class=p>)</span><span class=c1>#åˆ›å»ºå¯¹è±¡</span>
</span></span><span class=line><span class=cl><span class=n>worksheet</span> <span class=o>=</span> <span class=n>workbook</span><span class=o>.</span><span class=n>add_sheet</span><span class=p>(</span><span class=s1>&#39;sheet1&#39;</span><span class=p>)</span><span class=c1>#åˆ›å»ºå·¥ä½œè¡¨</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>10</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>worksheet</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=n>j</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;</span><span class=si>%d</span><span class=s1>*</span><span class=si>%d</span><span class=s1>=</span><span class=si>%d</span><span class=s1>&#39;</span><span class=o>%</span><span class=p>(</span><span class=n>i</span><span class=p>,</span><span class=n>j</span><span class=p>,</span><span class=n>i</span><span class=o>*</span><span class=n>j</span><span class=p>))</span>  <span class=c1># è¡Œ,åˆ—ï¼Œå†…å®¹</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>workbook</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=s2>&#34;student.xls&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=5-release>5. Release</h1><h2 id=51-top250>5.1 Top250</h2><p>çˆ¬å–è±†ç“£ç”µå½±Top250ï¼Œå¹¶å°†å…¶ä¿å­˜åœ¨sqlæ•°æ®åº“ä¸­</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span><span class=lnt>182
</span><span class=lnt>183
</span><span class=lnt>184
</span><span class=lnt>185
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#-*- coding = utf-8 -*-</span>
</span></span><span class=line><span class=cl><span class=c1>#@Time : 2020/10/6 21:00</span>
</span></span><span class=line><span class=cl><span class=c1>#@Author : chasing</span>
</span></span><span class=line><span class=cl><span class=c1>#@File : spyder.py</span>
</span></span><span class=line><span class=cl><span class=c1>#@Software: PyCharm</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>bs4</span> <span class=kn>import</span> <span class=n>BeautifulSoup</span>  <span class=c1># ç½‘é¡µè§£æï¼Œè·å–æ•°æ®</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>re</span>  <span class=c1># æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿›è¡Œæ–‡å­—åŒ¹é…</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>urllib.request</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>urllib.error</span>  <span class=c1># åˆ¶å®šURLï¼Œè·å–ç½‘é¡µæ•°æ®</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>xlwt</span>  <span class=c1># è¿›è¡Œexcelæ“ä½œ</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sqlite3</span>  <span class=c1># è¿›è¡ŒSQLiteæ•°æ®åº“æ“ä½œ</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>baseurl</span> <span class=o>=</span> <span class=s2>&#34;https://movie.douban.com/top250?start=&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># 1.çˆ¬å–ç½‘é¡µ</span>
</span></span><span class=line><span class=cl>    <span class=n>datalist</span> <span class=o>=</span> <span class=n>getData</span><span class=p>(</span><span class=n>baseurl</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1>#savepath = &#34;è±†ç“£ç”µå½±Top250.xls&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>dbpath</span> <span class=o>=</span> <span class=s2>&#34;movie.db&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># 3.ä¿å­˜æ•°æ®</span>
</span></span><span class=line><span class=cl>    <span class=c1># saveData(datalist,savepath)</span>
</span></span><span class=line><span class=cl>    <span class=n>saveData2DB</span><span class=p>(</span><span class=n>datalist</span><span class=p>,</span> <span class=n>dbpath</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># askURL(&#34;https://movie.douban.com/top250?start=&#34;)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å½±ç‰‡è¯¦æƒ…é“¾æ¥çš„è§„åˆ™</span>
</span></span><span class=line><span class=cl><span class=n>findLink</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;&lt;a href=&#34;(.*?)&#34;&gt;&#39;</span><span class=p>)</span>  <span class=c1># åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œè¡¨ç¤ºè§„åˆ™ï¼ˆå­—ç¬¦ä¸²çš„æ¨¡å¼ï¼‰</span>
</span></span><span class=line><span class=cl><span class=c1># å½±ç‰‡å›¾ç‰‡</span>
</span></span><span class=line><span class=cl><span class=n>findImgSrc</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;&lt;img.*src=&#34;(.*?)&#34;&#39;</span><span class=p>,</span> <span class=n>re</span><span class=o>.</span><span class=n>S</span><span class=p>)</span>  <span class=c1># re.S è®©æ¢è¡Œç¬¦åŒ…å«åœ¨å­—ç¬¦ä¸­</span>
</span></span><span class=line><span class=cl><span class=c1># å½±ç‰‡ç‰‡å</span>
</span></span><span class=line><span class=cl><span class=n>findTitle</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;&lt;span class=&#34;title&#34;&gt;(.*)&lt;/span&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># å½±ç‰‡è¯„åˆ†</span>
</span></span><span class=line><span class=cl><span class=n>findRating</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s1>&#39;&lt;span class=&#34;rating_num&#34; property=&#34;v:average&#34;&gt;(.*)&lt;/span&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># æ‰¾åˆ°è¯„ä»·äººæ•°</span>
</span></span><span class=line><span class=cl><span class=n>findJudge</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;&lt;span&gt;(\d*)äººè¯„ä»·&lt;/span&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># æ‰¾åˆ°æ¦‚å†µ</span>
</span></span><span class=line><span class=cl><span class=n>findInq</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;&lt;span class=&#34;inq&#34;&gt;(.*)&lt;/span&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># æ‰¾åˆ°å½±ç‰‡çš„ç›¸å…³å†…å®¹</span>
</span></span><span class=line><span class=cl><span class=n>findBd</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;&lt;p class=&#34;&#34;&gt;(.*?)&lt;/p&gt;&#39;</span><span class=p>,</span> <span class=n>re</span><span class=o>.</span><span class=n>S</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># çˆ¬å–ç½‘é¡µ</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>getData</span><span class=p>(</span><span class=n>baseurl</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>datalist</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>):</span>  <span class=c1># è°ƒç”¨è·å–é¡µé¢ä¿¡æ¯çš„å‡½æ•°ï¼Œ10æ¬¡</span>
</span></span><span class=line><span class=cl>        <span class=n>url</span> <span class=o>=</span> <span class=n>baseurl</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>i</span><span class=o>*</span><span class=mi>25</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>html</span> <span class=o>=</span> <span class=n>askURL</span><span class=p>(</span><span class=n>url</span><span class=p>)</span>  <span class=c1># ä¿å­˜è·å–åˆ°çš„ç½‘é¡µæºç </span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 2.é€ä¸€è§£ææ•°æ®</span>
</span></span><span class=line><span class=cl>        <span class=n>soup</span> <span class=o>=</span> <span class=n>BeautifulSoup</span><span class=p>(</span><span class=n>html</span><span class=p>,</span> <span class=s2>&#34;html.parser&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>soup</span><span class=o>.</span><span class=n>find_all</span><span class=p>(</span><span class=s1>&#39;div&#39;</span><span class=p>,</span> <span class=n>class_</span><span class=o>=</span><span class=s2>&#34;item&#34;</span><span class=p>):</span> <span class=c1>#æŸ¥æ‰¾ç¬¦åˆè¦æ±‚çš„å­—ç¬¦ä¸²ï¼Œå½¢æˆåˆ—è¡¨</span>
</span></span><span class=line><span class=cl>            <span class=c1># print(item)   #æµ‹è¯•ï¼šæŸ¥çœ‹ç”µå½±itemå…¨éƒ¨ä¿¡æ¯</span>
</span></span><span class=line><span class=cl>            <span class=n>data</span> <span class=o>=</span> <span class=p>[]</span>  <span class=c1># ä¿å­˜ä¸€éƒ¨ç”µå½±çš„æ‰€æœ‰ä¿¡æ¯</span>
</span></span><span class=line><span class=cl>            <span class=n>item</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1># å½±ç‰‡è¯¦æƒ…çš„é“¾æ¥</span>
</span></span><span class=line><span class=cl>            <span class=n>link</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>findLink</span><span class=p>,</span> <span class=n>item</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>  <span class=c1># reåº“ç”¨æ¥é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æŸ¥æ‰¾æŒ‡å®šçš„å­—ç¬¦ä¸²</span>
</span></span><span class=line><span class=cl>            <span class=n>data</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>link</span><span class=p>)</span>  <span class=c1># æ·»åŠ é“¾æ¥</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>imgSrc</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>findImgSrc</span><span class=p>,</span> <span class=n>item</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>data</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>imgSrc</span><span class=p>)</span>  <span class=c1># æ·»åŠ å›¾ç‰‡</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>titles</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>findTitle</span><span class=p>,</span> <span class=n>item</span><span class=p>)</span>  <span class=c1># ç‰‡åå¯èƒ½åªæœ‰ä¸€ä¸ªä¸­æ–‡åï¼Œæ²¡æœ‰å¤–å›½å</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>titles</span><span class=p>)</span> <span class=o>==</span> <span class=mi>2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=n>ctitle</span> <span class=o>=</span> <span class=n>titles</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>  <span class=c1># æ·»åŠ ä¸­æ–‡å</span>
</span></span><span class=line><span class=cl>                <span class=n>data</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>ctitle</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>otitle</span> <span class=o>=</span> <span class=n>titles</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&#34;/&#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>)</span>  <span class=c1># å»æ‰æ— å…³çš„ç¬¦å·</span>
</span></span><span class=line><span class=cl>                <span class=n>data</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>otitle</span><span class=p>)</span>  <span class=c1># æ·»åŠ å¤–å›½å</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>data</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>titles</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=cl>                <span class=n>data</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>)</span>  <span class=c1># å¤–å›½åå­—ç•™ç©º</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>rating</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>findRating</span><span class=p>,</span> <span class=n>item</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>data</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>rating</span><span class=p>)</span>  <span class=c1># æ·»åŠ è¯„åˆ†</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>judgeNum</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>findJudge</span><span class=p>,</span> <span class=n>item</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>data</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>judgeNum</span><span class=p>)</span>  <span class=c1># æåŠ è¯„ä»·äººæ•°</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>inq</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>findInq</span><span class=p>,</span> <span class=n>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>inq</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>inq</span> <span class=o>=</span> <span class=n>inq</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&#34;ã€‚&#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>)</span>  <span class=c1># å»æ‰å¥å·</span>
</span></span><span class=line><span class=cl>                <span class=n>data</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>inq</span><span class=p>)</span>                <span class=c1># æ·»åŠ æ¦‚è¿°</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>data</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=p>)</span>  <span class=c1># ç•™ç©º</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>bd</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>findBd</span><span class=p>,</span> <span class=n>item</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>bd</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=s1>&#39;&lt;br(\s+)?/&gt;(\s+)?&#39;</span><span class=p>,</span> <span class=s2>&#34; &#34;</span><span class=p>,</span> <span class=n>bd</span><span class=p>)</span>  <span class=c1># å»æ‰&lt;br/&gt;</span>
</span></span><span class=line><span class=cl>            <span class=n>bd</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=s2>&#34; &#34;</span><span class=p>,</span> <span class=n>bd</span><span class=p>)</span>  <span class=c1># æ›¿æ¢/</span>
</span></span><span class=line><span class=cl>            <span class=n>data</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>bd</span><span class=o>.</span><span class=n>strip</span><span class=p>())</span>  <span class=c1># å»æ‰å‰åçš„ç©ºæ ¼</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>datalist</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>  <span class=c1># æŠŠå¤„ç†å¥½çš„ä¸€éƒ¨ç”µå½±ä¿¡æ¯æ”¾å…¥datalist</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>datalist</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å¾—åˆ°æŒ‡å®šä¸€ä¸ªURLçš„ç½‘é¡µå†…å®¹</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>askURL</span><span class=p>(</span><span class=n>url</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>head</span> <span class=o>=</span> <span class=p>{</span>  <span class=c1># æ¨¡æ‹Ÿæµè§ˆå™¨å¤´éƒ¨ä¿¡æ¯ï¼Œå‘è±†ç“£æœåŠ¡å™¨å‘é€æ¶ˆæ¯</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;User-Agent&#34;</span><span class=p>:</span> <span class=s2>&#34;Mozilla / 5.0(Windows NT 10.0; Win64; x64) AppleWebKit / 537.36(KHTML, like Gecko) Chrome / 80.0.3987.122  Safari / 537.36&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1># ç”¨æˆ·ä»£ç†ï¼Œè¡¨ç¤ºå‘Šè¯‰è±†ç“£æœåŠ¡å™¨ï¼Œæˆ‘ä»¬æ˜¯ä»€ä¹ˆç±»å‹çš„æœºå™¨ã€æµè§ˆå™¨ï¼ˆæœ¬è´¨ä¸Šæ˜¯å‘Šè¯‰æµè§ˆå™¨ï¼Œæˆ‘ä»¬å¯ä»¥æ¥æ”¶ä»€ä¹ˆæ°´å¹³çš„æ–‡ä»¶å†…å®¹ï¼‰</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>request</span> <span class=o>=</span> <span class=n>urllib</span><span class=o>.</span><span class=n>request</span><span class=o>.</span><span class=n>Request</span><span class=p>(</span><span class=n>url</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=n>head</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>html</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>response</span> <span class=o>=</span> <span class=n>urllib</span><span class=o>.</span><span class=n>request</span><span class=o>.</span><span class=n>urlopen</span><span class=p>(</span><span class=n>request</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>html</span> <span class=o>=</span> <span class=n>response</span><span class=o>.</span><span class=n>read</span><span class=p>()</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s2>&#34;utf-8&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># print(html)</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=n>urllib</span><span class=o>.</span><span class=n>error</span><span class=o>.</span><span class=n>URLError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>e</span><span class=p>,</span> <span class=s2>&#34;code&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=n>e</span><span class=o>.</span><span class=n>code</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>e</span><span class=p>,</span> <span class=s2>&#34;reason&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=n>e</span><span class=o>.</span><span class=n>reason</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>html</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ä¿å­˜æ•°æ®</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>saveData</span><span class=p>(</span><span class=n>datalist</span><span class=p>,</span> <span class=n>savepath</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;save....&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>book</span> <span class=o>=</span> <span class=n>xlwt</span><span class=o>.</span><span class=n>Workbook</span><span class=p>(</span><span class=n>encoding</span><span class=o>=</span><span class=s2>&#34;utf-8&#34;</span><span class=p>,</span> <span class=n>style_compression</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>  <span class=c1># åˆ›å»ºworkbookå¯¹è±¡</span>
</span></span><span class=line><span class=cl>    <span class=n>sheet</span> <span class=o>=</span> <span class=n>book</span><span class=o>.</span><span class=n>add_sheet</span><span class=p>(</span><span class=s1>&#39;è±†ç“£ç”µå½±Top250&#39;</span><span class=p>,</span> <span class=n>cell_overwrite_ok</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># åˆ›å»ºå·¥ä½œè¡¨</span>
</span></span><span class=line><span class=cl>    <span class=n>col</span> <span class=o>=</span> <span class=p>(</span><span class=s2>&#34;ç”µå½±è¯¦æƒ…é“¾æ¥&#34;</span><span class=p>,</span> <span class=s2>&#34;å›¾ç‰‡é“¾æ¥&#34;</span><span class=p>,</span> <span class=s2>&#34;å½±ç‰‡ä¸­æ–‡å&#34;</span><span class=p>,</span> <span class=s2>&#34;å½±ç‰‡å¤–å›½å&#34;</span><span class=p>,</span> <span class=s2>&#34;è¯„åˆ†&#34;</span><span class=p>,</span> <span class=s2>&#34;è¯„ä»·æ•°&#34;</span><span class=p>,</span> <span class=s2>&#34;æ¦‚å†µ&#34;</span><span class=p>,</span> <span class=s2>&#34;ç›¸å…³ä¿¡æ¯&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>8</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>sheet</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>i</span><span class=p>,</span> <span class=n>col</span><span class=p>[</span><span class=n>i</span><span class=p>])</span>  <span class=c1># åˆ—å</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>250</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ç¬¬</span><span class=si>%d</span><span class=s2>æ¡&#34;</span> <span class=o>%</span> <span class=p>(</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=n>data</span> <span class=o>=</span> <span class=n>datalist</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>8</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>sheet</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span> <span class=n>j</span><span class=p>,</span> <span class=n>data</span><span class=p>[</span><span class=n>j</span><span class=p>])</span>  <span class=c1># æ•°æ®</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>book</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>savepath</span><span class=p>)</span>  <span class=c1># ä¿å­˜</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>saveData2DB</span><span class=p>(</span><span class=n>datalist</span><span class=p>,</span> <span class=n>dbpath</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>init_db</span><span class=p>(</span><span class=n>dbpath</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span> <span class=o>=</span> <span class=n>sqlite3</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=n>dbpath</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>cur</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>cursor</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>data</span> <span class=ow>in</span> <span class=n>datalist</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>index</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>index</span> <span class=o>==</span> <span class=mi>4</span> <span class=ow>or</span> <span class=n>index</span> <span class=o>==</span> <span class=mi>5</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span>
</span></span><span class=line><span class=cl>            <span class=n>data</span><span class=p>[</span><span class=n>index</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;&#34;&#39;</span><span class=o>+</span><span class=n>data</span><span class=p>[</span><span class=n>index</span><span class=p>]</span><span class=o>+</span><span class=s1>&#39;&#34;&#39;</span>
</span></span><span class=line><span class=cl>        <span class=n>sql</span> <span class=o>=</span> <span class=s1>&#39;&#39;&#39;
</span></span></span><span class=line><span class=cl><span class=s1>                insert into movie250 (
</span></span></span><span class=line><span class=cl><span class=s1>                info_link,pic_link,cname,ename,score,rated,instroduction,info) 
</span></span></span><span class=line><span class=cl><span class=s1>                values(</span><span class=si>%s</span><span class=s1>)&#39;&#39;&#39;</span> <span class=o>%</span> <span class=s2>&#34;,&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>sql</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>cur</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>sql</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>conn</span><span class=o>.</span><span class=n>commit</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>cur</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>init_db</span><span class=p>(</span><span class=n>dbpath</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>sql</span> <span class=o>=</span> <span class=s1>&#39;&#39;&#39;
</span></span></span><span class=line><span class=cl><span class=s1>        create table movie250 
</span></span></span><span class=line><span class=cl><span class=s1>        (
</span></span></span><span class=line><span class=cl><span class=s1>        id integer primary key autoincrement,
</span></span></span><span class=line><span class=cl><span class=s1>        info_link text,
</span></span></span><span class=line><span class=cl><span class=s1>        pic_link text,
</span></span></span><span class=line><span class=cl><span class=s1>        cname varchar,
</span></span></span><span class=line><span class=cl><span class=s1>        ename varchar,
</span></span></span><span class=line><span class=cl><span class=s1>        score numeric ,
</span></span></span><span class=line><span class=cl><span class=s1>        rated numeric ,
</span></span></span><span class=line><span class=cl><span class=s1>        instroduction text,
</span></span></span><span class=line><span class=cl><span class=s1>        info text
</span></span></span><span class=line><span class=cl><span class=s1>        )
</span></span></span><span class=line><span class=cl><span class=s1>    
</span></span></span><span class=line><span class=cl><span class=s1>    &#39;&#39;&#39;</span>  <span class=c1># åˆ›å»ºæ•°æ®è¡¨</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span> <span class=o>=</span> <span class=n>sqlite3</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=n>dbpath</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>cursor</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>cursor</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>sql</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span><span class=o>.</span><span class=n>commit</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>  <span class=c1># å½“ç¨‹åºæ‰§è¡Œæ—¶</span>
</span></span><span class=line><span class=cl>    <span class=c1># è°ƒç”¨å‡½æ•°</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=c1># init_db(&#34;movietest.db&#34;)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;çˆ¬å–å®Œæ¯•ï¼&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=6-csdn>6. CSDN</h1><h2 id=61-for-a-certain-passage>6.1 for a certain passage</h2><p>å¯¹äºä¸€ä¸ªåšä¸»çš„ç¡®åˆ‡çš„æ–‡ç« é“¾æ¥ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç çˆ¬å–å…¶ä¸­çš„æ–‡ç« å†…å®¹ï¼Œå¹¶ä¿å­˜ä¸ºpdfæ ¼å¼</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#-*- coding = utf-8 -*-</span>
</span></span><span class=line><span class=cl><span class=c1>#@Time : 2020-10-12 18:08</span>
</span></span><span class=line><span class=cl><span class=c1>#@Author : chasing</span>
</span></span><span class=line><span class=cl><span class=c1>#@File : csdn.py</span>
</span></span><span class=line><span class=cl><span class=c1>#@Software: PyCharm</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>re</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>parsel</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pdfkit</span>
</span></span><span class=line><span class=cl><span class=n>BaseUrl</span><span class=o>=</span><span class=s1>&#39;https://blog.csdn.net/justidle/article/details/106850487&#39;</span>
</span></span><span class=line><span class=cl><span class=n>cmp</span><span class=o>=</span><span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;&lt;meta name=&#34;keywords&#34; content=&#34;(.*?)&#34;&gt;&#39;</span><span class=p>,</span> <span class=n>re</span><span class=o>.</span><span class=n>S</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>headers</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;User-Agent&#39;</span><span class=p>:</span> <span class=s1>&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36 Edg/86.0.622.38&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>BaseUrl</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;å“åº”ä½“ï¼š&#34;</span><span class=o>+</span><span class=n>response</span><span class=o>.</span><span class=n>text</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Title</span><span class=o>=</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>cmp</span><span class=p>,</span><span class=n>response</span><span class=o>.</span><span class=n>text</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>FileUrl</span><span class=o>=</span><span class=s1>&#39;D:</span><span class=se>\\</span><span class=s1>desktop</span><span class=se>\\</span><span class=s1>&#39;</span><span class=o>+</span><span class=s1>&#39; &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>Title</span><span class=p>)</span><span class=o>+</span><span class=s1>&#39;.pdf&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;æœŸæœ›ä¿å­˜ä½ç½®ï¼š&#34;</span><span class=o>+</span><span class=n>FileUrl</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Html1</span><span class=o>=</span><span class=sa>r</span><span class=s1>&#39;&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&#34;UTF-8&#34;&gt;&lt;title&gt;&#39;</span>
</span></span><span class=line><span class=cl><span class=n>Html2</span><span class=o>=</span><span class=sa>r</span><span class=s1>&#39;&lt;/title&gt;&lt;/head&gt;&lt;body&gt;</span><span class=si>{content}</span><span class=s1>&lt;/body&gt;&lt;/html&gt;&#39;</span>
</span></span><span class=line><span class=cl><span class=n>html</span><span class=o>=</span><span class=n>Html1</span><span class=o>+</span><span class=s1>&#39; &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>Title</span><span class=p>)</span><span class=o>+</span><span class=n>Html2</span>
</span></span><span class=line><span class=cl><span class=n>selector</span> <span class=o>=</span> <span class=n>parsel</span><span class=o>.</span><span class=n>Selector</span><span class=p>(</span><span class=n>response</span><span class=o>.</span><span class=n>text</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>article</span> <span class=o>=</span> <span class=n>selector</span><span class=o>.</span><span class=n>css</span><span class=p>(</span><span class=s1>&#39;article&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;æ–‡ç« æœ¬ä½“ï¼š&#34;</span><span class=o>+</span><span class=n>article</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;1.html&#39;</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s1>&#39;w&#39;</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s1>&#39;utf-8&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>html</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>content</span><span class=o>=</span><span class=n>article</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>=</span> <span class=n>pdfkit</span><span class=o>.</span><span class=n>configuration</span><span class=p>(</span><span class=n>wkhtmltopdf</span><span class=o>=</span><span class=s1>&#39;E:</span><span class=se>\\</span><span class=s1>wkhtmltopdf</span><span class=se>\\</span><span class=s1>bin</span><span class=se>\\</span><span class=s1>wkhtmltopdf.exe&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>pdfkit</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s2>&#34;1.html&#34;</span><span class=p>,</span><span class=n>FileUrl</span><span class=p>,</span><span class=n>configuration</span><span class=o>=</span><span class=n>config</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;æ–‡ä»¶ä¿å­˜æˆåŠŸï¼Œä¿å­˜æ–‡ä»¶çš„è·¯å¾„ä¸ºï¼š&#34;</span><span class=o>+</span><span class=n>FileUrl</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Hello World!&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=62-all-passages>6.2 All passages</h2><p>å¯¹äºåšä¸»çš„å…¨éƒ¨æ–‡ç« ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼Œè·å–å…¶æ‰€æœ‰æ–‡ç« çš„é“¾æ¥</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#-*- coding = utf-8 -*-</span>
</span></span><span class=line><span class=cl><span class=c1>#@Time : 2020-10-12 20:09</span>
</span></span><span class=line><span class=cl><span class=c1>#@Author : chasing</span>
</span></span><span class=line><span class=cl><span class=c1>#@File : Release.py</span>
</span></span><span class=line><span class=cl><span class=c1>#@Software: PyCharm</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#å¯¼å…¥ç›¸åº”çš„æ¨¡å—</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>re</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>parsel</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pdfkit</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># Pages=askPages(BaseUrl)</span>
</span></span><span class=line><span class=cl>    <span class=c1># print(Pages)</span>
</span></span><span class=line><span class=cl>    <span class=n>i</span><span class=o>=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=n>askUrl</span><span class=p>(</span><span class=n>baseUrl</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=mi>100</span><span class=p>,</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>tempUrl</span> <span class=o>=</span> <span class=n>baseUrl</span><span class=o>+</span><span class=nb>str</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>askUrl</span><span class=p>(</span><span class=n>tempUrl</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>Response</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>findChinese</span><span class=o>=</span><span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;[\u4e00-\u9fa5]+&#39;</span><span class=p>,</span><span class=n>re</span><span class=o>.</span><span class=n>S</span><span class=p>)</span><span class=c1>#pdfkitä¸èƒ½èƒ½ä¿å­˜å«æœ‰ç‰¹æ®Šç¬¦å·åç§°çš„æ–‡ä»¶</span>
</span></span><span class=line><span class=cl><span class=n>findBranch</span><span class=o>=</span><span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;&lt;a href=&#34;(.*?)&#34; target=&#34;_blank&#34;&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>findFile</span><span class=o>=</span><span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;&lt;meta name=&#34;keywords&#34; content=&#34;(.*?)&#34;&gt;&#39;</span><span class=p>,</span> <span class=n>re</span><span class=o>.</span><span class=n>S</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># findPages=re.compile(r&#39;&lt;li data-page=&#34;(\d+)&#34; class=&#34;ui-pager&#34;&gt;.*?&lt;/li&gt;&#39;,re.S)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>headers</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;user-agent&#34;</span><span class=p>:</span><span class=s2>&#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36 Edg/86.0.622.38&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>baseUrl</span><span class=o>=</span><span class=s1>&#39;https://blog.csdn.net/qq_27133869&#39;</span>
</span></span><span class=line><span class=cl><span class=c1># é¡µé¢æ•°é‡ä¸ºåŠ¨æ€</span>
</span></span><span class=line><span class=cl><span class=c1># def askPages(BaseUrl):#js</span>
</span></span><span class=line><span class=cl><span class=c1>#     response = requests.get(BaseUrl, headers=headers)</span>
</span></span><span class=line><span class=cl><span class=c1>#     print(response.text)</span>
</span></span><span class=line><span class=cl><span class=c1>#     Pages = re.findall(FindPages, response.text)</span>
</span></span><span class=line><span class=cl><span class=c1>#     return Pages</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>askUrl</span><span class=p>(</span><span class=n>baseUrl</span><span class=p>,</span><span class=n>i</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>baseResponse</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>baseUrl</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># print(baseResponse.text)</span>
</span></span><span class=line><span class=cl>    <span class=n>branchUrls</span><span class=o>=</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>findBranch</span><span class=p>,</span><span class=n>baseResponse</span><span class=o>.</span><span class=n>text</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=n>branchUrls</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>7</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>branchUrls</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span><span class=c1>#åˆ é™¤å¸®åŠ©æ–‡æ¡£</span>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=n>branchUrls</span><span class=c1>#ä¸ºç©ºç›´æ¥è·³å‡ºï¼ŒèŠ‚çœèµ„æº</span>
</span></span><span class=line><span class=cl>    <span class=c1># print(branchUrls)</span>
</span></span><span class=line><span class=cl>    <span class=n>times</span><span class=o>=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>BranchUrl</span> <span class=ow>in</span> <span class=n>branchUrls</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>branchResponse</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>BranchUrl</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>#ä¿å­˜çš„æ–‡ä»¶å</span>
</span></span><span class=line><span class=cl>        <span class=n>tempTitle</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>findFile</span><span class=p>,</span> <span class=n>branchResponse</span><span class=o>.</span><span class=n>text</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>tempTitle</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>findChinese</span><span class=p>,</span> <span class=n>tempTitle</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=n>finalTitle</span> <span class=o>=</span> <span class=s2>&#34; &#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>findChinese</span><span class=p>,</span> <span class=n>tempTitle</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ç¬¬ </span><span class=si>%d</span><span class=s2> é¢çš„ </span><span class=si>%d</span><span class=s2> ç¯‡æ–‡ç« åä¸º:&#34;</span> <span class=o>%</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>times</span><span class=p>)</span><span class=o>+</span><span class=nb>str</span><span class=p>(</span><span class=n>finalTitle</span><span class=p>)</span><span class=o>+</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>#æœ€ç»ˆç½‘é¡µæºä»£ç </span>
</span></span><span class=line><span class=cl>        <span class=n>finalHtml</span> <span class=o>=</span><span class=sa>r</span><span class=s1>&#39;&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&#34;UTF-8&#34;&gt;&lt;title&gt;&#39;</span> <span class=o>+</span> <span class=s1>&#39; &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>finalTitle</span><span class=p>)</span> <span class=o>+</span> <span class=sa>r</span><span class=s1>&#39;&lt;/title&gt;&lt;/head&gt;&lt;body&gt;</span><span class=si>{content}</span><span class=s1>&lt;/body&gt;&lt;/html&gt;&#39;</span>
</span></span><span class=line><span class=cl>        <span class=c1>#pdfæ–‡ä»¶çš„ä¿å­˜ä½ç½®</span>
</span></span><span class=line><span class=cl>        <span class=n>fileUrl</span> <span class=o>=</span> <span class=s1>&#39;D:</span><span class=se>\\</span><span class=s1>desktop</span><span class=se>\\</span><span class=s1>CSDN</span><span class=se>\\</span><span class=s1>littlePING</span><span class=se>\\</span><span class=s1>&#39;</span> <span class=o>+</span> <span class=s1>&#39;&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>finalTitle</span><span class=p>)</span> <span class=o>+</span> <span class=s1>&#39;.pdf&#39;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ç¬¬ </span><span class=si>%d</span><span class=s2> é¢çš„ </span><span class=si>%d</span><span class=s2> ç¯‡æ–‡ç« ä¿å­˜è·¯å¾„ä¸º:&#34;</span> <span class=o>%</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>times</span><span class=p>)</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>fileUrl</span><span class=p>)</span> <span class=o>+</span> <span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>selector</span> <span class=o>=</span> <span class=n>parsel</span><span class=o>.</span><span class=n>Selector</span><span class=p>(</span><span class=n>branchResponse</span><span class=o>.</span><span class=n>text</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>article</span> <span class=o>=</span> <span class=n>selector</span><span class=o>.</span><span class=n>css</span><span class=p>(</span><span class=s1>&#39;article&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=c1>#æ–‡ä»¶ä¿å­˜çš„ä½ç½®</span>
</span></span><span class=line><span class=cl>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;temp.html&#39;</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s1>&#39;w&#39;</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s1>&#39;utf-8&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>finalHtml</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>content</span><span class=o>=</span><span class=n>article</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>config</span> <span class=o>=</span> <span class=n>pdfkit</span><span class=o>.</span><span class=n>configuration</span><span class=p>(</span><span class=n>wkhtmltopdf</span><span class=o>=</span><span class=s1>&#39;E:</span><span class=se>\\</span><span class=s1>wkhtmltopdf</span><span class=se>\\</span><span class=s1>bin</span><span class=se>\\</span><span class=s1>wkhtmltopdf.exe&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=c1># config = pdfkit.configuration(wkhtmltopdf=path_wk)</span>
</span></span><span class=line><span class=cl>            <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;temp.html&#39;</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s1>&#39;utf-8&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>pdfkit</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=n>f</span><span class=p>,</span> <span class=n>fileUrl</span><span class=p>,</span> <span class=n>configuration</span><span class=o>=</span><span class=n>config</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ç¬¬ </span><span class=si>%d</span><span class=s2> é¢çš„ </span><span class=si>%d</span><span class=s2> ç¯‡æ–‡ç« pdfæ–‡ä»¶ä¿å­˜æˆåŠŸï¼&#34;</span> <span class=o>%</span> <span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>times</span><span class=p>)</span><span class=o>+</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ç¬¬ </span><span class=si>%d</span><span class=s2> é¢çš„ </span><span class=si>%d</span><span class=s2> ç¯‡æ–‡ç« pdfæ–‡ä»¶ä¿å­˜å¤±è´¥ï¼&#34;</span> <span class=o>%</span> <span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>times</span><span class=p>)</span><span class=o>+</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>pass</span>
</span></span><span class=line><span class=cl>            <span class=c1># continue</span>
</span></span><span class=line><span class=cl>        <span class=n>times</span><span class=o>+=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;é¡µé¢ </span><span class=si>%d</span><span class=s2> ä¸­çš„æ‰€æœ‰æ–‡ä»¶ä¿å­˜æˆåŠŸ&#34;</span><span class=o>%</span><span class=n>i</span><span class=o>+</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>Response</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Hello World&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>  <span class=c1># å½“ç¨‹åºæ‰§è¡Œæ—¶</span>
</span></span><span class=line><span class=cl>    <span class=c1># è°ƒç”¨å‡½æ•°</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div></section><footer class=article-footer><section class=article-tags><a href=/tags/note/>Note</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span><a class=link href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.ml target=_blank rel=noopener>Licensed under CC BY-NC-SA 4.0</a></span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css integrity="sha256-J+iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s=" crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js integrity="sha256-InsNdER1b2xUewP+pKCUJpkhiqwHgqiPXDlIk7GzBu4=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI=" crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.querySelector(`.article-content`),{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/post/about-computer-science/><div class=article-image><img src=/post/about-computer-science/force.b6e88110a0b67218a7eb8b2eb0832df5_hu2f7a4f0d3aab2fb44bd6811e98148674_312962_250x150_fill_q75_h2_box_smart1_2.webp width=250 height=150 loading=lazy alt="Featured image of post About Computer Science" data-hash="md5-tuiBEKC2chin64susIMt9Q=="></div><div class=article-details><h2 class=article-title>About Computer Science</h2></div></a></article><article class=has-image><a href=/post/my-cs-learning-route/><div class=article-image><img src=/post/my-cs-learning-route/Dunning.76d6f383ade16483969a215532caf82e_hu7e9c870d2fcd00ef46b2bd8203d1a11e_21576_250x150_fill_q75_h2_box_smart1_2.webp width=250 height=150 loading=lazy alt="Featured image of post My CS Learning Route" data-hash="md5-dtbzg63hZIOWmiFVMsr4Lg=="></div><div class=article-details><h2 class=article-title>My CS Learning Route</h2></div></a></article><article class=has-image><a href=/post/mathematic-fomulars/><div class=article-image><img src=/post/mathematic-fomulars/math.24f51518189b2f31acb1469396a7227e_hu83b9f6e293f1a315f3c631b3d80c5053_31522_250x150_fill_q75_h2_box_smart1_2.webp width=250 height=150 loading=lazy alt="Featured image of post Mathematic Fomulars" data-hash="md5-JPUVGBibLzGssUaTlqcifg=="></div><div class=article-details><h2 class=article-title>Mathematic Fomulars</h2></div></a></article><article class=has-image><a href=/post/tinysql-implementation/><div class=article-image><img src=/post/tinysql-implementation/talent-plan.33dc3f0b37bb83dcd906eff5abe55703_hub37bed894517c8c0c46efedb5ba1232d_43996_250x150_fill_q75_h2_box_smart1_2.webp width=250 height=150 loading=lazy alt="Featured image of post TinySQL Implementation" data-hash="md5-M9w/Cze7g9zZBu/1q+VXAw=="></div><div class=article-details><h2 class=article-title>TinySQL Implementation</h2></div></a></article><article class=has-image><a href=/post/amend-hugo-theme-even/><div class=article-image><img src=/post/amend-hugo-theme-even/even.4f6389121e44efa6027f8bad46d9b2d8_hu7239b18983faa84c364ba0614e368fc1_33946_250x150_fill_q75_h2_box_smart1_2.webp width=250 height=150 loading=lazy alt="Featured image of post Amend Hugo Theme Even" data-hash="md5-T2OJEh5E76YCf4utRtmy2A=="></div><div class=article-details><h2 class=article-title>Amend Hugo Theme Even</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo=Chasing1020/Chasing1020.github.io data-repo-id=R_kgDOGR5Ifw data-category=General data-category-id=DIC_kwDOGR5If84CURCm data-mapping=url data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en data-loading=lazy crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark")}})()</script><footer class=site-footer><section class=copyright>&copy;
2019 -
2024 Chasing1020</section><section class=powerby>I just want a peaceful life without troubles<br>Built with <b><a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a></b><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.16.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-CDYPFNXQDZ"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CDYPFNXQDZ")</script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css?family=JetBrains+Mono",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>